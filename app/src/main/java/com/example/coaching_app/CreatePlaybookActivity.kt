package com.example.coaching_app

import android.content.Intent
import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.util.Log
import android.widget.Toast
import com.example.coaching_app.databinding.ActivityCreatePlaybookBinding
import com.google.firebase.auth.FirebaseAuth
import com.google.firebase.firestore.FirebaseFirestore


class CreatePlaybookActivity : AppCompatActivity() {

    private lateinit var binding: ActivityCreatePlaybookBinding
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_create_playbook)
        binding = ActivityCreatePlaybookBinding.inflate(layoutInflater)
        val view = binding.root
        setContentView(view)

        val bundle: Bundle? = intent.extras
        val selectedTeam = intent.getParcelableExtra<Team>("selectedTeam")

        binding.createPlayButton.setOnClickListener{
            val playName = binding.playNameEditText.text.toString().trim()
            val playDescription = binding.playDescriptionEditText.text.toString().trim()
            if(playName.isNotEmpty() && playDescription.isNotEmpty()){

                val db = FirebaseFirestore.getInstance().collection("play_book")

                val playID = db.document().id
                val teamID = selectedTeam?.teamID
                val userID = FirebaseAuth.getInstance().currentUser?.uid

                val play = PlaybookModel("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",
                    playName, playDescription, playID, teamID, userID)

                db.document(playID).set(play)
                    .addOnSuccessListener {
                        Toast.makeText(this, "New Play Uploaded Successfully",
                            Toast.LENGTH_LONG).show() }
                    .addOnFailureListener{
                        it.localizedMessage?.let { it1 -> Log.w("DB issue", it1) }
                    }

                val intent = Intent(this, PlaybookActivity::class.java)
                intent.putExtra("selectedTeam",selectedTeam)
                startActivity(intent)
            }
            else{
                Toast.makeText(this, "Play Name and Description must be filled in",
                    Toast.LENGTH_LONG).show()
            }
        }

    }
}
